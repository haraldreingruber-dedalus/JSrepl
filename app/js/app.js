"use strict";function _typeof(e){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(e)}function evaluate(e){try{eval.apply(null,[e])}catch(e){var t=e.stack.split("eval")[0];var o=e.stack.split(")")[1].substr(1);console.log(t+" "+o);console.log(e.stack)}}var love="heyhos";var testjsrepl=function e(t){return alert("a")};Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))};Storage.prototype.getObject=function(e){var t=this.getItem(e);return t&&JSON.parse(t)};var editor;var storedEditor=localStorage.getObject("editorStorage");var editorStorage=storedEditor?storedEditor:{};var savedEditor=localStorage.getObject("editorStorage")&&localStorage.getObject("editorStorage")[window.location.href]?localStorage.getObject("editorStorage")[window.location.href]:"";require(["vs/editor/editor.main"],function(){editor=monaco.editor.create(document.getElementById("vseditor"),{value:savedEditor,language:"javascript",theme:"vs-dark"});function e(){editor.addAction({id:"runCode",label:"Run",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.Enter],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function e(t){document.getElementById("myLog").innerHTML="";storeJS();evaluate(t.getValue());return null}})}e()});function storeJS(){var e=document.getElementById("projectName").value||window.location.href;editorStorage[e]=editor.getValue();localStorage.setObject("editorStorage",editorStorage);listProjects()}function deleteProject(){var e=document.querySelector("#projectName").value;delete editorStorage[e];localStorage.setObject("editorStorage",editorStorage);listProjects()}function listProjects(){document.getElementById("editor-storage").innerHTML="";Object.keys(editorStorage).forEach(function(e){document.getElementById("editor-storage").innerHTML=document.getElementById("editor-storage").innerHTML+"<div class='btn btn-outline-light btn-block'>"+e+"</div>"})}var allProjects=document.querySelector("#editor-storage");allProjects.addEventListener("click",loadProject,false);function loadProject(e){if(e.target!==e.currentTarget){var t=e.target.tagName;var o=e.target.innerHTML;document.querySelector("#projectName").value=o;editor.setValue(editorStorage[o])}e.stopPropagation()}var repl={};repl.createFile=function(e,t){var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e));o.setAttribute("download",t+".js");document.body.appendChild(o);o.click()};repl.downloadJS=function(){var e=document.getElementById("projectName").value||"script";console.log(document.getElementById.value);console.log(e);repl.createFile(editor.getValue(),e)};function escapeHtml(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};var o=e?e.toString().replace(/[&<>"']/g,function(e){return t[e]}):e===false?"false":e===0?0:e===null?"null":e===undefined?"undefined":_typeof(e);return o}var glitch=false;window.console={logg:window.console.log,log:function e(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++){o[r]=arguments[r]}var n=o.map(function(e){return escapeHtml(e)});var a=document.createElement("div");this.logg.apply(this,o);if(glitch){a.classList.add("glitch");a.setAttribute("data-text",n);var l=Math.floor(Math.random()*100+1);if(l>93){a.classList.add("glitchactive")}}a.innerHTML=n.join(" ");document.getElementById("myLog").appendChild(a)},error:function e(t){var o=document.createElement("div");o.innerHTML=t;document.getElementById("myLog").appendChild(o)},warn:window.console.warn};