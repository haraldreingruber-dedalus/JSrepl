var love="heyho";Storage.prototype.setObject=function(e,t){this.setItem(e,JSON.stringify(t))};Storage.prototype.getObject=function(e){var t=this.getItem(e);return t&&JSON.parse(t)};var editor;var storedEditor=localStorage.getObject("editorStorage");var editorStorage=storedEditor?storedEditor:{};var savedEditor=localStorage.getObject("editorStorage")&&localStorage.getObject("editorStorage")[window.location.href]?localStorage.getObject("editorStorage")[window.location.href]:"";require(["vs/editor/editor.main"],function(){editor=monaco.editor.create(document.getElementById("vseditor"),{value:savedEditor,language:"javascript",theme:"vs-dark"});function e(){editor.addAction({id:"runCode",label:"Run",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.Enter],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){document.getElementById("myLog").innerHTML="";storeJS();evaluate(e.getValue());return null}})}e()});function storeJS(){var e=document.getElementById("projectName").value||window.location.href;editorStorage[e]=editor.getValue();localStorage.setObject("editorStorage",editorStorage);listProjects()}function deleteProject(){var e=document.querySelector("#projectName").value;delete editorStorage[e];localStorage.setObject("editorStorage",editorStorage);listProjects()}function listProjects(){document.getElementById("editor-storage").innerHTML="";Object.keys(editorStorage).forEach(function(e){document.getElementById("editor-storage").innerHTML=document.getElementById("editor-storage").innerHTML+"<div class='btn btn-outline-light btn-block'>"+e+"</div>"})}var allProjects=document.querySelector("#editor-storage");allProjects.addEventListener("click",loadProject,false);function loadProject(e){if(e.target!==e.currentTarget){var t=e.target.tagName;var o=e.target.innerHTML;document.querySelector("#projectName").value=o;editor.setValue(editorStorage[o])}e.stopPropagation()}var repl={};repl.createFile=function(e,t){var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e));o.setAttribute("download",t+".js");document.body.appendChild(o);o.click()};repl.downloadJS=function(){var e=document.getElementById("projectName").value||"script";console.log(document.getElementById.value);console.log(e);repl.createFile(editor.getValue(),e)};function escapeHtml(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};var o=e?e.toString().replace(/[&<>"']/g,function(e){return t[e]}):e=="false"?"false":typeof e;return o}var glitch=true;window.console={logg:this.console.log,log:function(e){e=escapeHtml(e);var t=document.createElement("div");if(glitch){t.classList.add("glitch");t.setAttribute("data-text",e);var o=Math.floor(Math.random()*100+1);if(o>93){t.classList.add("glitchactive")}}t.innerHTML=e;document.getElementById("myLog").appendChild(t)},error:function(e){var t=document.createElement("div");t.innerHTML=e;document.getElementById("myLog").appendChild(t)},warn:this.console.warn};function evaluate(code){try{eval(code)}catch(e){var error=e.stack.split("eval")[0];var line=e.stack.split(")")[1].substr(1);console.log(error+" "+line);console.log(e.stack)}}